{% from "macros/navigation.html" import navigation %}
<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{{ ctx.texts[15][lang] }}
    </title>
    {# common css (included in all pages) #} 
    {% include "common/common_stylesheets.html" %}
    
    {# <link href="/static/bootstrap/bootstrap-modal-2.2.5.css" rel="stylesheet" /> #}
    <link href="/static/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="/static/leaflet/mapbox-2.2.1/mapbox.uncompressed.css" rel="stylesheet" />
    {# <link href="/static/leaflet/leaflet-minimap/Control.MiniMap-447530.css" rel="stylesheet" /> #}
    <link href="/static/bootstrap/bootstrap-treeview.css" rel="stylesheet" />
    <link href="/cartografia/_css/cartografia.css" rel="stylesheet" />
    
</head>

<body>

    {# container for modal #}
    <div class="modal x-fade" id="modal-1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div id="mn-r-modal-contents-1" class="modal-content" >


        </div>
      </div>
    </div>

   
    <div id="main-container">
        <div id="navbar-container">
            {{ navigation(ctx) }}
        </div>

        <div id="map-container" xstyle="border: solid 1px;">

            <div class="row" style="height: 100%; margin: 0;">
                <div id="mn-r-map-1" class="col-sm-12" style="height: 100%; padding: 0;">
                </div>
                <div id="mn-r-map-2" class="col-sm-0" style="display: none; height: 100%; padding: 0;">
                </div>
            </div>

        </div>







    </div>


{#
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
      Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Modal title</h4>
          </div>
          <div class="modal-body">
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
#}
    {# common javascript (included in all pages) #} 
    {% include "common/common_scripts.html" %}

    <script src="/static/_js/{{ bundles['cartografia-templates'] }}"></script>

    {# add some specific js for cartografia #} 
    <script>

        Clima.maps = {{ ctx.maps | stringify }};
        Clima.mapsMenu = {{ ctx.mapsMenu | stringify }};

    </script>

    {% if NODE_ENV == "production" %}

    <script src="/static/_js/{{ bundles['cartografia-libs'] }}"></script>
    <script src="/static/_js/{{ bundles['cartografia-app'] }}"></script>

    {% else %}

    {# cartografia libs #}
    {# NOTE: if we add new files here, we must add in the gruntfile as well #}
    <script src="/static/jquery/jquery.documentsize-1.2.1.js"></script>
    <script src="/static/jquery/jquery.mousewheel-3.1.12.js"></script>
    <script src="/static/leaflet/mapbox-2.2.1/mapbox.uncompressed.js"></script>
    <script src="/static/leaflet/leaflet-providers-1.0.29.js"></script>
    {# <script src="/static/leaflet/leaflet-minimap/Control.MiniMap-447530.js"></script> #}
    <script src="/static/underscore/underscore-1.6.0.js"></script>
    {# <script src="/static/underscore/underscore.string-3.0.3.js"></script> #}
    {# <script src="/static/q/q-1.1.2.js"></script> #}
    {# <script src="/static/bootstrap/bootstrap-notify-51a18c.js"></script> #}
    {# <script src="/static/bootstrap/bootstrap-modal-2.2.5.js"></script> #}   
    {# <script src="/static/fecha/fecha-1.0.0.js"></script> #}
    <script src="/static/bootstrap/bootstrap-treeview.js"></script>
    <script src="/static/nunjucks/nunjucks-slim-1.3.3.js"></script>
    <script src="/static/backbone/json2.js"></script>
    <script src="/static/backbone/backbone-1.1.2.js"></script>
    <script src="/static/backbone/backbone.select-1.3.2.js"></script>
    <script src="/static/backbone/backbone.base-router-1.1.0.js"></script>
    <script src="/static/backbone/backbone.radio-1.0.1.js"></script>
    <script src="/static/backbone/backbone.attributes-5b0f73.js"></script>
    <script src="/static/backbone/backbone.marionette-2.4.1.js"></script>
    <script src="/static/backbone/renderer-nunjucks.js"></script>


    {# cartografia app #}
    {# NOTE: if we add new files here, we must add in the gruntfile as well #}
    <script src="/cartografia/leaflet-backbone-view.js"></script>
    <script src="/cartografia/entities.js"></script>
    <script src="/cartografia/behaviors.js"></script>
    <script src="/cartografia/menu/menu.js"></script>
    <script src="/cartografia/map/map.js"></script>
    <script src="/cartografia/index.js"></script>
    <script src="/cartografia/tile-providers.js"></script>
    <script src="/cartografia/init.js"></script>

    {% endif %}

</body>

</html>
